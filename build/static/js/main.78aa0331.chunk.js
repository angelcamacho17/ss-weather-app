(this["webpackJsonpss-weather-app"]=this["webpackJsonpss-weather-app"]||[]).push([[0],{102:function(t,e,a){"use strict";a.r(e);var n=a(0),r=a.n(n),i=a(36),c=a.n(i),s=(a(51),a(20)),l=a(9),o=a(10),m=a(12),d=a(11),u=(a(52),a(2)),p=a(13),f=(a(53),a(54)),h=function(t){Object(m.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).state={newDate:"",weekdat:"",imgURL:""},n.goToDay=n.goToDay.bind(Object(p.a)(n)),n}return Object(o.a)(a,[{key:"goToDay",value:function(){this.props.history.push("/"+this.props.reading.dt_txt.split(" ")[0])}},{key:"componentWillMount",value:function(){var t=new Date,e=1e3*this.props.reading.dt,a=toString("owf owf-".concat(this.props.reading.weather[0].id," owf-5x"));this.setState({newDate:t.setTime(e),weekday:e,imgURL:a})}},{key:"render",value:function(){return r.a.createElement("div",{className:"day-card",onClick:this.goToDay},r.a.createElement("h3",{className:"card-title"},f(this.state.newDate).format("dddd")),r.a.createElement("p",{className:"text-muted"},f(this.state.newDate).format("MMMM Do, h:mm a")),r.a.createElement("i",{className:"owf owf-".concat(this.props.reading.weather[0].id," owf-5x")}),r.a.createElement("h2",null,Math.round(this.props.reading.main.temp)," \xb0C"),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"max"},"max: ",Math.round(this.props.reading.max)," \xb0C"),r.a.createElement("div",{className:"max"},"min: ",Math.round(this.props.reading.mini)," \xb0C"),r.a.createElement("p",{className:"card-text"},this.props.reading.weather[0].description)))}}]),a}(r.a.Component),v=(a(56),function(t){Object(m.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).formatDayCards=function(){return n.props.dailyData?n.props.dailyData.map((function(t,e){return r.a.createElement(h,Object.assign({},n.props,{reading:t,key:e}))})):[]},n.goToDay=n.goToDay.bind(Object(p.a)(n)),n}return Object(o.a)(a,[{key:"goToDay",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"week-container"},r.a.createElement("div",{className:"page-content"},r.a.createElement("h5",{className:"display-4 text-muted city"},"Santiago metropolitan region, CL"),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"cards"},this.formatDayCards()))))}}]),a}(r.a.Component)),y=a(39),g=a(109),E=a(110),b=a(107),x=a(108),w=a(111),D=a(112),O=a(113);function j(t){t.percentage;var e=t.width,a=t.height,n=[];n=JSON.parse(JSON.stringify(t.data));var i,c=e-40-40,s=a-20-20,l=function(t){return t.dt_txt.split(" ")[1].split(":")[0]+":"+t.dt_txt.split(" ")[1].split(":")[1]},o=function(t){return t.main.temp},m=Object(b.a)({rangeRound:[0,c],domain:n.map(l),padding:.4}),d=Math.max.apply(Math,Object(y.a)(n.map(o))),u=Object(x.a)({rangeRound:[s,0],domain:[0,d+(i=d,Math.sqrt(i))]}),p=function(t,e){return function(a){return t(e(a))}},f=p(m,l),h=p(u,o);return r.a.createElement("svg",{width:e,height:a},n.map((function(t,e){var a=s-h(t);return r.a.createElement(g.a,{key:"bar-".concat(e)},r.a.createElement(E.a,{x:f(t)+60,y:s-a,height:a,width:m.bandwidth(),fill:"#6610f2"}),r.a.createElement(w.a,{scale:u,top:0,left:60,hideZero:!0,label:"Temperature",stroke:"#00000078",tickTextFill:"#6610f2",numTicks:5,axisClassName:"leftAxis"}),r.a.createElement(D.a,{scale:m,top:s,left:60,hideZero:!0,label:"Hours",stroke:"#00000078",tickTextFill:"#6610f2",axisClassName:"rightAxis"}),r.a.createElement(O.a,{x:f(t)+40+m.bandwidth()/2-5,y:s-a-5},"".concat(t.main.temp," \xb0C")))})))}j.defaultProps={percentage:!1,width:600,height:350};var N=j,k=(a(98),function(t){Object(m.a)(a,t);var e=Object(d.a)(a);function a(t){var n;return Object(l.a)(this,a),(n=e.call(this,t)).state={day:t.match.params.day,data:[]},n.dayStats=n.dayStats.bind(Object(p.a)(n)),n}return Object(o.a)(a,[{key:"componentWillMount",value:function(){this.dayStats()}},{key:"componentDidMount",value:function(){}},{key:"dayStats",value:function(){if(this.props.fullData){var t,e=Object(s.a)(this.props.fullData);try{for(e.s();!(t=e.n()).done;){var a=t.value;a.dt_txt.split(" ")[0]===this.state.day&&this.state.data.push(a)}}catch(n){e.e(n)}finally{e.f()}}}},{key:"render",value:function(){return this.dayStats(),r.a.createElement("div",{className:"day-container"},r.a.createElement("div",{className:"page-left"},r.a.createElement("div",{className:"title"},r.a.createElement("h3",{className:"city"},"Santiago de Chile, CL"),r.a.createElement("h5",{className:"time"},this.state.day)),r.a.createElement("div",{className:"graph"},r.a.createElement(N,{data:this.state.data,percentage:!1}))),r.a.createElement("div",{className:"page-right"},r.a.createElement("div",{className:"temperatures"},this.state.data.map((function(t,e){var a="owf owf-".concat(t.weather[0].id," owf-1  x");return r.a.createElement("div",{className:"temperature",key:e},r.a.createElement("i",{className:a}),r.a.createElement("span",{className:"time"},t.dt_txt.split(" ")[1].split(":")[0],":",t.dt_txt.split(" ")[1].split(":")[1]," -"),r.a.createElement("span",{className:"degrees"},t.main.temp," \xb0C"))})))))}}]),a}(r.a.Component)),M=(a(99),a(15)),_=function(t){Object(m.a)(a,t);var e=Object(d.a)(a);function a(){return Object(l.a)(this,a),e.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(M.b,{to:"/"},r.a.createElement("h1",{className:"display-4 header",onClick:this.goBack},"Servi Senior 5-Day Forecast"))}}]),a}(n.Component),C=function(t){Object(m.a)(a,t);var e=Object(d.a)(a);function a(){var t;return Object(l.a)(this,a),(t=e.call(this)).componentDidMount=function(){var e="http://api.openweathermap.org/data/2.5/forecast?q=santiago,cl&units=metric&APPID=".concat("79a1afb8b7f7a545a464c897a77f1eaa");fetch(e).then((function(t){return t.json()})).then((function(e){var a=e.list.filter((function(t){return t.dt_txt.includes("18:00:00")}));t.setState({fullData:e.list,dailyData:t.getMaxMinPerDay(e.list,a)})}))},t.state={fullData:[],dailyData:[]},t}return Object(o.a)(a,[{key:"getMaxMinPerDay",value:function(t,e){var a,n=new Map,r=new Map,i=Object(s.a)(t);try{var c=function(){var t=a.value,i=t.dt_txt.split(" ")[0];if(n.get(i)){if(t.main.temp_max>n.get(i)){n.set(i,t.main.temp_max);var c=e.filter((function(e){return e.dt_txt.split(" ")[0]===t.dt_txt.split(" ")[0]}));c=c[0];var s=e.indexOf(c);-1!==s&&(e[s].max=t.main.temp_max)}}else n.set(i,t.main.temp_max);if(t.main.temp_min<r.get(i)){r.set(i,t.main.temp_min);var l=e.filter((function(e){return e.dt_txt.split(" ")[0]===t.dt_txt.split(" ")[0]}));l=l[0];var o=e.indexOf(l);-1!==o&&(e[o].mini=t.main.temp_min)}else r.set(i,t.main.temp_min)};for(i.s();!(a=i.n()).done;)c()}catch(l){i.e(l)}finally{i.f()}return e}},{key:"render",value:function(){var t=this;return r.a.createElement("div",{className:"App"},r.a.createElement(_,this.props),r.a.createElement(u.c,null,r.a.createElement(u.a,{exact:!0,path:"/",render:function(e){return r.a.createElement(v,Object.assign({},e,{fullData:t.state.fullData,dailyData:t.state.dailyData}))}}),r.a.createElement(u.a,{exact:!0,path:"/:day",render:function(e){return r.a.createElement(k,Object.assign({},e,{fullData:t.state.fullData}))}})))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(M.a,null,r.a.createElement(C,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(t){t.unregister()})).catch((function(t){console.error(t.message)}))},46:function(t,e,a){t.exports=a(102)},51:function(t,e,a){},52:function(t,e,a){},53:function(t,e,a){},56:function(t,e,a){},98:function(t,e,a){},99:function(t,e,a){}},[[46,1,2]]]);
//# sourceMappingURL=main.78aa0331.chunk.js.map