(this["webpackJsonpss-weather-app"]=this["webpackJsonpss-weather-app"]||[]).push([[0],{102:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(36),c=a.n(i),s=(a(51),a(20)),l=a(9),o=a(10),m=a(12),u=a(11),d=(a(52),a(2)),p=a(13),h=(a(53),a(54)),f=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={newDate:"",weekdat:"",imgURL:""},n.goToDay=n.goToDay.bind(Object(p.a)(n)),n}return Object(o.a)(a,[{key:"goToDay",value:function(){this.props.history.push("/"+this.props.reading.dt_txt.split(" ")[0])}},{key:"componentWillMount",value:function(){var e=new Date,t=1e3*this.props.reading.dt,a=toString("owf owf-".concat(this.props.reading.weather[0].id," owf-5x"));this.setState({newDate:e.setTime(t),weekday:t,imgURL:a})}},{key:"render",value:function(){return r.a.createElement("div",{className:"day-card",onClick:this.goToDay},r.a.createElement("h3",{className:"card-title"},h(this.state.newDate).format("dddd")),r.a.createElement("p",{className:"text-muted"},h(this.state.newDate).format("MMMM Do, h:mm a")),r.a.createElement("i",{className:"owf owf-".concat(this.props.reading.weather[0].id," owf-5x")}),r.a.createElement("h2",null,Math.round(this.props.reading.main.temp)," \xb0C"),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"max"},"max: ",Math.round(this.props.reading.max)," \xb0C"),r.a.createElement("div",{className:"max"},"min: ",Math.round(this.props.reading.mini)," \xb0C"),r.a.createElement("p",{className:"card-text"},this.props.reading.weather[0].description)))}}]),a}(r.a.Component),v=(a(56),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).formatDayCards=function(){return n.props.dailyData?n.props.dailyData.map((function(e,t){return r.a.createElement(f,Object.assign({},n.props,{reading:e,key:t}))})):[]},n.goToDay=n.goToDay.bind(Object(p.a)(n)),n}return Object(o.a)(a,[{key:"goToDay",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"week-container"},r.a.createElement("div",{className:"page-content"},r.a.createElement("h5",{className:"display-4 text-muted city"},"Santiago metropolitan region, CL"),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"cards"},this.formatDayCards()))))}}]),a}(r.a.Component)),y=a(39),g=a(109),E=a(110),b=a(107),x=a(108),w=a(111),D=a(112),O=a(113);function N(e){e.percentage;var t=e.width,a=e.height,n=[];n=JSON.parse(JSON.stringify(e.data));var i,c=t-40-40,s=a-20-20,l=function(e){return e.dt_txt.split(" ")[1].split(":")[0]+":"+e.dt_txt.split(" ")[1].split(":")[1]},o=function(e){return e.main.temp},m=Object(b.a)({rangeRound:[0,c],domain:n.map(l),padding:.4}),u=Math.max.apply(Math,Object(y.a)(n.map(o))),d=Object(x.a)({rangeRound:[s,0],domain:[0,u+(i=u,Math.sqrt(i))]}),p=function(e,t){return function(a){return e(t(a))}},h=p(m,l),f=p(d,o);return r.a.createElement("svg",{width:t,height:a},n.map((function(e,t){var a=s-f(e);return r.a.createElement(g.a,{key:"bar-".concat(t)},r.a.createElement(E.a,{x:h(e)+60,y:s-a,height:a,width:m.bandwidth(),fill:"#6610f2"}),r.a.createElement(w.a,{scale:d,top:0,left:60,hideZero:!0,label:"Temperature",stroke:"#00000078",tickTextFill:"#6610f2",numTicks:5,axisClassName:"leftAxis"}),r.a.createElement(D.a,{scale:m,top:s,left:60,hideZero:!0,label:"Hours",stroke:"#00000078",tickTextFill:"#6610f2",axisClassName:"rightAxis"}),r.a.createElement(O.a,{x:h(e)+40+m.bandwidth()/2-5,y:s-a-5},"".concat(e.main.temp," \xb0C")))})))}N.defaultProps={percentage:!1,width:600,height:350};var j=N,k=(a(98),function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={day:e.match.params.day,data:[]},n.dayStats=n.dayStats.bind(Object(p.a)(n)),n}return Object(o.a)(a,[{key:"componentWillMount",value:function(){this.dayStats()}},{key:"componentDidMount",value:function(){}},{key:"dayStats",value:function(){if(this.props.fullData){var e,t=Object(s.a)(this.props.fullData);try{for(t.s();!(e=t.n()).done;){var a=e.value;a.dt_txt.split(" ")[0]===this.state.day&&this.state.data.push(a)}}catch(n){t.e(n)}finally{t.f()}}}},{key:"render",value:function(){return this.dayStats(),r.a.createElement("div",{className:"day-container"},r.a.createElement("div",{className:"page-left"},r.a.createElement("div",{className:"title"},r.a.createElement("h3",{className:"city"},"Santiago de Chile, CL"),r.a.createElement("h5",{className:"time"},this.state.day)),r.a.createElement("div",{className:"graph"},r.a.createElement(j,{data:this.state.data,percentage:!1}))),r.a.createElement("div",{className:"page-right"},r.a.createElement("h6",{className:"display-6"},"Hours - Degrees"),r.a.createElement("div",{className:"temperatures"},this.state.data.map((function(e,t){var a="owf owf-".concat(e.weather[0].id," owf-1  x");return r.a.createElement("div",{className:"temperature",key:t},r.a.createElement("i",{className:a}),r.a.createElement("span",{className:"time"},e.dt_txt.split(" ")[1].split(":")[0],":",e.dt_txt.split(" ")[1].split(":")[1]," -"),r.a.createElement("span",{className:"degrees"},e.main.temp," \xb0C"))})))))}}]),a}(r.a.Component)),_=(a(99),a(15)),C=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(_.b,{to:"/"},r.a.createElement("h1",{className:"display-4 header",onClick:this.goBack},"Servi Senior 5-Day Forecast"))}}]),a}(n.Component),M=function(e){Object(m.a)(a,e);var t=Object(u.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).componentDidMount=function(){var t="http://api.openweathermap.org/data/2.5/forecast?q=santiago,cl&units=metric&APPID=".concat("79a1afb8b7f7a545a464c897a77f1eaa");fetch(t).then((function(e){return e.json()})).then((function(t){var a=t.list.filter((function(e){return e.dt_txt.includes("18:00:00")}));e.setState({fullData:t.list,dailyData:e.getMaxMinPerDay(t.list,a)})}))},e.state={fullData:[],dailyData:[]},e}return Object(o.a)(a,[{key:"getMaxMinPerDay",value:function(e,t){var a,n=new Map,r=new Map,i=Object(s.a)(e);try{var c=function(){var e=a.value,i=e.dt_txt.split(" ")[0];if(n.get(i)){if(e.main.temp_max>n.get(i)){n.set(i,e.main.temp_max);var c=t.filter((function(t){return t.dt_txt.split(" ")[0]===e.dt_txt.split(" ")[0]}));c=c[0];var s=t.indexOf(c);-1!==s&&(t[s].max=e.main.temp_max)}}else n.set(i,e.main.temp_max);if(e.main.temp_min<r.get(i)){r.set(i,e.main.temp_min);var l=t.filter((function(t){return t.dt_txt.split(" ")[0]===e.dt_txt.split(" ")[0]}));l=l[0];var o=t.indexOf(l);-1!==o&&(t[o].mini=e.main.temp_min)}else r.set(i,e.main.temp_min)};for(i.s();!(a=i.n()).done;)c()}catch(l){i.e(l)}finally{i.f()}return t}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(C,this.props),r.a.createElement(d.c,null,r.a.createElement(d.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(v,Object.assign({},t,{fullData:e.state.fullData,dailyData:e.state.dailyData}))}}),r.a.createElement(d.a,{exact:!0,path:"/:day",render:function(t){return r.a.createElement(k,Object.assign({},t,{fullData:e.state.fullData}))}})),r.a.createElement("footer",null,r.a.createElement("span",null,"by "),r.a.createElement("span",{className:"resume-link"},r.a.createElement("a",{href:"https://angelcamacho17.github.io/resume/",target:"_blank"},r.a.createElement("span",{className:"name"},"Angel Camacho")))," - ",r.a.createElement("span",null,"Software Developer")))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(_.a,null,r.a.createElement(M,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},46:function(e,t,a){e.exports=a(102)},51:function(e,t,a){},52:function(e,t,a){},53:function(e,t,a){},56:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[46,1,2]]]);
//# sourceMappingURL=main.77aa5a53.chunk.js.map