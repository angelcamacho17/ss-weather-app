(this["webpackJsonpss-weather-app"]=this["webpackJsonpss-weather-app"]||[]).push([[0],{102:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),i=a(37),s=a.n(i),c=(a(52),a(20)),l=a(8),o=a(9),m=a(13),u=a(11),d=a(10),p=(a(53),a(2)),h=(a(54),a(31)),f=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={newDate:"",weekdat:"",imgURL:""},n.goToDay=n.goToDay.bind(Object(m.a)(n)),n}return Object(o.a)(a,[{key:"goToDay",value:function(){this.props.history.push("/"+this.props.reading.dt_txt.split(" ")[0])}},{key:"componentWillMount",value:function(){var e=new Date,t=1e3*this.props.reading.dt,a=toString("owf owf-".concat(this.props.reading.weather[0].id," owf-5x"));this.setState({newDate:e.setTime(t),weekday:t,imgURL:a})}},{key:"render",value:function(){return r.a.createElement("div",{className:"day-card",onClick:this.goToDay},r.a.createElement("h3",{className:"card-title"},h(this.state.newDate).format("dddd")),r.a.createElement("p",{className:"text-muted"},h(this.props.reading.dt_txt).format("MMMM Do, h:mm a")),r.a.createElement("i",{className:"owf owf-".concat(this.props.reading.weather[0].id," owf-5x")}),r.a.createElement("h2",null,Math.round(this.props.reading.main.temp)," \xb0C"),r.a.createElement("div",{className:"card-body"},r.a.createElement("div",{className:"max"},"max: ",Math.round(this.props.reading.max)," \xb0C"),r.a.createElement("div",{className:"max"},"min: ",Math.round(this.props.reading.mini)," \xb0C"),r.a.createElement("p",{className:"card-text"},this.props.reading.weather[0].description)))}}]),a}(r.a.Component),v=(a(56),function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).formatDayCards=function(){return n.props.dailyData?n.props.dailyData.map((function(e,t){return r.a.createElement(f,Object.assign({},n.props,{reading:e,key:t}))})):[]},n.goToDay=n.goToDay.bind(Object(m.a)(n)),n}return Object(o.a)(a,[{key:"goToDay",value:function(){}},{key:"render",value:function(){return r.a.createElement("div",{className:"week-container"},r.a.createElement("div",{className:"page-content"},r.a.createElement("h5",{className:"display-4 text-muted city"},"Santiago metropolitan region, CL"),r.a.createElement("div",{className:"content"},r.a.createElement("div",{className:"cards"},this.formatDayCards()))))}}]),a}(r.a.Component)),y=a(40),g=a(109),b=a(110),E=a(107),x=a(108),O=a(111),w=a(112),j=a(113);function D(e){e.percentage;var t=e.width,a=e.height,n=[];n=JSON.parse(JSON.stringify(e.data));var i,s=t-40-40,c=a-20-20,l=function(e){return e.dt_txt.split(" ")[1].split(":")[0]+":"+e.dt_txt.split(" ")[1].split(":")[1]},o=function(e){return e.main.temp},m=Object(E.a)({rangeRound:[0,s],domain:n.map(l),padding:.4}),u=Math.max.apply(Math,Object(y.a)(n.map(o))),d=Object(x.a)({rangeRound:[c,0],domain:[0,u+(i=u,Math.sqrt(i))]}),p=function(e,t){return function(a){return e(t(a))}},h=p(m,l),f=p(d,o);return r.a.createElement("svg",{width:t,height:a},n.map((function(e,t){var a=c-f(e);return r.a.createElement(g.a,{key:"bar-".concat(t)},r.a.createElement(b.a,{x:h(e)+60,y:c-a,height:a,width:m.bandwidth(),fill:"#6610f2"}),r.a.createElement(O.a,{scale:d,top:0,left:60,hideZero:!0,label:"Temperature",stroke:"#00000078",tickTextFill:"#6610f2",numTicks:5,axisClassName:"leftAxis"}),r.a.createElement(w.a,{scale:m,top:c,left:60,hideZero:!0,label:"Hours",stroke:"#00000078",tickTextFill:"#6610f2",axisClassName:"rightAxis"}),r.a.createElement(j.a,{x:h(e)+40+m.bandwidth()/2-5,y:c-a-5},"".concat(e.main.temp," \xb0C")))})))}D.defaultProps={percentage:!1,width:600,height:350};var k=D,N=(a(98),a(31)),M=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(l.a)(this,a),(n=t.call(this,e)).state={day:e.match.params.day,data:[]},n.dayStats=n.dayStats.bind(Object(m.a)(n)),n}return Object(o.a)(a,[{key:"componentWillMount",value:function(){this.dayStats()}},{key:"componentDidMount",value:function(){}},{key:"dayStats",value:function(){if(this.props.fullData){var e,t=Object(c.a)(this.props.fullData);try{for(t.s();!(e=t.n()).done;){var a=e.value;a.dt_txt.split(" ")[0]===this.state.day&&-1===this.state.data.indexOf(a)&&this.state.data.push(a)}}catch(n){t.e(n)}finally{t.f()}0===this.state.data.length&&this.props.history.push("/")}}},{key:"render",value:function(){return this.dayStats(),r.a.createElement("div",{className:"day-container"},r.a.createElement("div",{className:"page-left"},r.a.createElement("div",{className:"title"},r.a.createElement("h3",{className:"city"},"Santiago de Chile, CL"),r.a.createElement("h5",{className:"time"},N(this.state.day).format("dddd"))),r.a.createElement("div",{className:"graph"},r.a.createElement(k,{data:this.state.data,percentage:!1}))),r.a.createElement("div",{className:"page-right"},r.a.createElement("h6",{className:"display-6"},"Hours - Degrees"),r.a.createElement("div",{className:"temperatures"},this.state.data.map((function(e,t){var a="owf owf-".concat(e.weather[0].id," owf-1  x");return r.a.createElement("div",{className:"temperature",key:t},r.a.createElement("i",{className:a}),r.a.createElement("span",{className:"time"},e.dt_txt.split(" ")[1].split(":")[0],":",e.dt_txt.split(" ")[1].split(":")[1]," -"),r.a.createElement("span",{className:"degrees"},Math.round(e.main.temp)," \xb0C"))})))))}}]),a}(r.a.Component),C=(a(99),a(15)),S=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement(C.b,{to:"/"},r.a.createElement("h1",{className:"display-4 header",onClick:this.goBack},"Servi Senior 5-Day Forecast"))}}]),a}(n.Component),_=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){return Object(l.a)(this,a),t.apply(this,arguments)}return Object(o.a)(a,[{key:"render",value:function(){return r.a.createElement("footer",null,r.a.createElement("span",null,"by "),r.a.createElement("span",{className:"resume-link"},r.a.createElement("a",{href:"https://angelcamacho17.github.io/resume/",target:"_blank"},r.a.createElement("span",{className:"name"},"Angel Camacho")))," - ",r.a.createElement("span",null,"Software Developer"))}}]),a}(n.Component),T=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(l.a)(this,a),(e=t.call(this)).componentDidMount=function(){var t="http://api.openweathermap.org/data/2.5/forecast?q=santiago,cl&units=metric&APPID=".concat("79a1afb8b7f7a545a464c897a77f1eaa");fetch(t).then((function(e){return e.json()})).then((function(t){var a=t.list.filter((function(e){return e.dt_txt.includes("18:00:00")}));e.setState({fullData:t.list,dailyData:e.getMaxMinPerDay(t.list,a)})}))},e.state={fullData:[],dailyData:[]},e.setMax=e.setMax.bind(Object(m.a)(e)),e}return Object(o.a)(a,[{key:"setMax",value:function(e,t){var a=e.filter((function(e){return e.dt_txt===t.dt_txt.split(" ")[0]+" 18:00:00"}));a=a[0];var n=e.indexOf(a);return-1!==n&&(e[n].max=t.main.temp),e}},{key:"setMin",value:function(e,t){var a=e.filter((function(e){return e.dt_txt===t.dt_txt.split(" ")[0]+" 18:00:00"}));a=a[0];var n=e.indexOf(a);return-1!==n&&(e[n].mini=Math.round(t.main.temp)),e}},{key:"getMaxMinPerDay",value:function(e,t){var a=new Map,n=new Map;console.log(e);var r,i=Object(c.a)(e);try{for(i.s();!(r=i.n()).done;){var s=r.value,l=s.dt_txt.split(" ")[0];a.get(l)?s.main.temp>a.get(l)&&(a.set(l,s.main.temp),this.setMax(t,s)):void 0===a.get(l)&&(a.set(l,s.main.temp),this.setMax(t,s)),n.get(l)?Math.round(s.main.temp)<n.get(l)&&(n.set(l,Math.round(s.main.temp)),this.setMin(t,s)):void 0===n.get(l)&&(n.set(l,Math.round(s.main.temp)),this.setMin(t,s))}}catch(o){i.e(o)}finally{i.f()}return console.log(t),t}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"App"},r.a.createElement(S,this.props),r.a.createElement(p.c,null,r.a.createElement(p.a,{exact:!0,path:"/",render:function(t){return r.a.createElement(v,Object.assign({},t,{fullData:e.state.fullData,dailyData:e.state.dailyData}))}}),r.a.createElement(p.a,{exact:!0,path:"/:day",render:function(t){return r.a.createElement(M,Object.assign({},t,{fullData:e.state.fullData}))}})),r.a.createElement(_,null))}}]),a}(n.Component);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(r.a.createElement(C.a,null,r.a.createElement(T,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},47:function(e,t,a){e.exports=a(102)},52:function(e,t,a){},53:function(e,t,a){},54:function(e,t,a){},56:function(e,t,a){},98:function(e,t,a){},99:function(e,t,a){}},[[47,1,2]]]);
//# sourceMappingURL=main.aa15a336.chunk.js.map